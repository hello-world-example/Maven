<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="ç¼–å†™ maven æ’ä»¶ æœ¬æ–‡ä¸»è¦é€šè¿‡ç¼–å†™ä¸€ä¸ªæ’ä»¶æ¥åŠ æ·±å¯¹mavenæ’ä»¶æœºåˆ¶ ç”Ÿå‘½å‘¨æœŸ æ’ä»¶ç›®æ ‡ æ’ä»¶è§£ææœºåˆ¶ ç­‰æ¦‚å¿µçš„ç†è§£ï¼Œæ’ä»¶æœ¬èº«å¹¶æ²¡æœ‰å®é™…åŠŸèƒ½ï¼Œåªæ˜¯è¾“å‡ºä¸€å¥ Hello Worldã€‚
æ³¨æ„äº‹é¡¹ å’Œ æ¦‚è¿°   maven æ’ä»¶çš„å‘½å &lt;name&gt;-maven-plugin
  mavenæ’ä»¶é¡¹ç›®ä¸ä¸€èˆ¬mavené¡¹ç›®ï¼Œé™¤äº†&lt;packaging&gt;&lt;/packaging&gt; æ˜¯ maven-plugin ä»¥å¤–ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸åŒï¼ˆ&lt;packaging&gt;maven-plugin&lt;/packaging&gt;ï¼‰
  mavenæ’ä»¶é¡¹ç›®çš„ä¾èµ–
&lt;dependency&gt; &lt;groupId&gt;org.apache.maven&lt;/groupId&gt; &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt; &lt;version&gt;3.3.3&lt;/version&gt; &lt;/dependency&gt;   ç¼–å†™mavenæ’ä»¶å¯ä»¥ä½¿ç”¨ä¸¤ç§é£æ ¼çš„æ ‡æ³¨ï¼Œç›´æ¥å†™åœ¨æ³¨é‡Šä¸­(javadoc)ï¼Œæˆ–è€…ä½¿ç”¨JDK1.5&#43;çš„æ³¨è§£çš„å½¢å¼ï¼Œå¦‚æœä½¿ç”¨æ³¨è§£çš„å½¢å¼ï¼Œéœ€è¦ä½¿ç”¨ä¾èµ–
&lt;dependency&gt; &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt; &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt; &lt;version&gt;3.5&lt;/version&gt; &lt;/dependency&gt; ä»¥ä¸‹ä¸¤ç§å£°æ˜ç›®æ ‡çš„æ–¹å¼(@goal printå’Œ@Mojo(name = &quot;print&quot;))æ˜¯ä¸€æ ·çš„ï¼Œ å› ä¸ºä½¿ç”¨çš„æ—¶å€™æ˜¯é€šè¿‡jaråŒ…ä¸­çš„plugin-help.xmlæ–‡ä»¶ (&lt;name&gt;-maven-plugin-&lt;version&gt;.jar\META-INF\maven\&lt;groupId&gt;\&lt;name&gt;-maven-plugin\plugin-help.xml) æ¥è¯†åˆ«ç›®æ ‡ã€å‚æ•°ç­‰ç›¸å…³ä¿¡æ¯çš„ã€‚
å¦‚ä¸‹å±•ç¤ºäº†ï¼Œå£°æ˜ print ç›®æ ‡çš„ä¸¤ç§æ–¹å¼ã€‚
@Mojo(name = &#34;print&#34;) public class HelloMojo extends AbstractMojo { public void execute() throws MojoExecutionException, MojoFailureException {} } å’Œ
/** * @goal print */ public class HelloMojo extends AbstractMojo { public void execute() throws MojoExecutionException, MojoFailureException{} }   ç¼–å†™å…·ä½“æ’ä»¶çš„æ—¶å€™éœ€ç»§æ‰¿ AbstractMojo ç±»ï¼Œå®ç°å…¶ä¸­çš„ execute æ–¹æ³•ï¼ŒMOJOå³ Maven Ordinary Java Object [ å‚è§ POJOï¼ˆPlain Ordinary Java Objectï¼‰]"><meta property="og:title" content="" />
<meta property="og:description" content="ç¼–å†™ maven æ’ä»¶ æœ¬æ–‡ä¸»è¦é€šè¿‡ç¼–å†™ä¸€ä¸ªæ’ä»¶æ¥åŠ æ·±å¯¹mavenæ’ä»¶æœºåˆ¶ ç”Ÿå‘½å‘¨æœŸ æ’ä»¶ç›®æ ‡ æ’ä»¶è§£ææœºåˆ¶ ç­‰æ¦‚å¿µçš„ç†è§£ï¼Œæ’ä»¶æœ¬èº«å¹¶æ²¡æœ‰å®é™…åŠŸèƒ½ï¼Œåªæ˜¯è¾“å‡ºä¸€å¥ Hello Worldã€‚
æ³¨æ„äº‹é¡¹ å’Œ æ¦‚è¿°   maven æ’ä»¶çš„å‘½å &lt;name&gt;-maven-plugin
  mavenæ’ä»¶é¡¹ç›®ä¸ä¸€èˆ¬mavené¡¹ç›®ï¼Œé™¤äº†&lt;packaging&gt;&lt;/packaging&gt; æ˜¯ maven-plugin ä»¥å¤–ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸åŒï¼ˆ&lt;packaging&gt;maven-plugin&lt;/packaging&gt;ï¼‰
  mavenæ’ä»¶é¡¹ç›®çš„ä¾èµ–
&lt;dependency&gt; &lt;groupId&gt;org.apache.maven&lt;/groupId&gt; &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt; &lt;version&gt;3.3.3&lt;/version&gt; &lt;/dependency&gt;   ç¼–å†™mavenæ’ä»¶å¯ä»¥ä½¿ç”¨ä¸¤ç§é£æ ¼çš„æ ‡æ³¨ï¼Œç›´æ¥å†™åœ¨æ³¨é‡Šä¸­(javadoc)ï¼Œæˆ–è€…ä½¿ç”¨JDK1.5&#43;çš„æ³¨è§£çš„å½¢å¼ï¼Œå¦‚æœä½¿ç”¨æ³¨è§£çš„å½¢å¼ï¼Œéœ€è¦ä½¿ç”¨ä¾èµ–
&lt;dependency&gt; &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt; &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt; &lt;version&gt;3.5&lt;/version&gt; &lt;/dependency&gt; ä»¥ä¸‹ä¸¤ç§å£°æ˜ç›®æ ‡çš„æ–¹å¼(@goal printå’Œ@Mojo(name = &quot;print&quot;))æ˜¯ä¸€æ ·çš„ï¼Œ å› ä¸ºä½¿ç”¨çš„æ—¶å€™æ˜¯é€šè¿‡jaråŒ…ä¸­çš„plugin-help.xmlæ–‡ä»¶ (&lt;name&gt;-maven-plugin-&lt;version&gt;.jar\META-INF\maven\&lt;groupId&gt;\&lt;name&gt;-maven-plugin\plugin-help.xml) æ¥è¯†åˆ«ç›®æ ‡ã€å‚æ•°ç­‰ç›¸å…³ä¿¡æ¯çš„ã€‚
å¦‚ä¸‹å±•ç¤ºäº†ï¼Œå£°æ˜ print ç›®æ ‡çš„ä¸¤ç§æ–¹å¼ã€‚
@Mojo(name = &#34;print&#34;) public class HelloMojo extends AbstractMojo { public void execute() throws MojoExecutionException, MojoFailureException {} } å’Œ
/** * @goal print */ public class HelloMojo extends AbstractMojo { public void execute() throws MojoExecutionException, MojoFailureException{} }   ç¼–å†™å…·ä½“æ’ä»¶çš„æ—¶å€™éœ€ç»§æ‰¿ AbstractMojo ç±»ï¼Œå®ç°å…¶ä¸­çš„ execute æ–¹æ³•ï¼ŒMOJOå³ Maven Ordinary Java Object [ å‚è§ POJOï¼ˆPlain Ordinary Java Objectï¼‰]" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hello-world-example.github.io/Maven/docs/Custom-Plugin/" />
<meta property="article:modified_time" content="2020-03-14T18:20:20+08:00" />
<title>Custom Plugin | Maven</title>
<link rel="icon" href="/Maven/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/Maven/book.min.d436f463c9471cfab26a8b71cd2f50b6abf5225806391453da4ca111d1834fef.css" integrity="sha256-1Db0Y8lHHPqyaotxzS9Qtqv1IlgGORRT2kyhEdGDT&#43;8=">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/Maven"><span>Maven</span>
  </a>
</h2>












  <ul>
<li><a href="/Maven/docs/Nexus/">Nexus ç§æœ</a></li>
<li><a href="/Maven/docs/Custom-Plugin/"class=active>ç¼–å†™ Maven æ’ä»¶</a></li>
<li><a href="/Maven/docs/Reactor/">ååº”å †</a></li>
<li><strong>FAQ</strong>
<ul>
<li><a href="/Maven/docs/FAQ/SNAPSHOT-U/">SNAPSHOT æ›´æ–°ç­–ç•¥</a></li>
<li><a href="/Maven/docs/FAQ/Parent-vs-Import/">parent å’Œ import çš„åŒºåˆ«</a></li>
</ul>
</li>
<li><strong>å®˜æ–¹æ’ä»¶</strong>
<ul>
<li><a href="/Maven/docs/plugins/maven-help-plugin/">maven-help-plugin</a></li>
<li><a href="/Maven/docs/plugins/maven-dependency-plugin/">maven-dependency-plugin</a></li>
<li><a href="/Maven/docs/plugins/maven-shade-plugin/">maven-shade-plugin</a></li>
<li><a href="/Maven/docs/plugins/maven-assembly-plugin/">maven-assembly-plugin</a></li>
</ul>
</li>
<li><strong>ç¬¬ä¸‰æ–¹æ’ä»¶</strong>
<ul>
<li><a href="/Maven/docs/plugins/versions-maven-plugin/">versions-maven-plugin</a></li>
<li><a href="/Docker/docs/Action/docker-maven-plugin/">docker-maven-plugin ğŸ”—</a></li>
</ul>
</li>
<li><strong>Action</strong>
<ul>
<li><a href="/Maven/docs/Action/Runnable-jar/">å¯è¿è¡Œ jar</a></li>
<li><a href="/Maven/docs/Action/Troubleshooting/">å¸¸è§æ•…éšœæ’æŸ¥</a></li>
</ul>
</li>
</ul>










</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/Maven/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Custom Plugin</strong>

  <label for="toc-control">
    <img src="/Maven/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#æ³¨æ„äº‹é¡¹-å’Œ-æ¦‚è¿°">æ³¨æ„äº‹é¡¹ å’Œ æ¦‚è¿°</a></li>
        <li><a href="#åˆ›å»ºç”Ÿæˆä¸€ä¸ªmaven-pluginé¡¹ç›®">åˆ›å»º/ç”Ÿæˆä¸€ä¸ªMaven Pluginé¡¹ç›®</a></li>
        <li><a href="#ç¨å¾®ä¿®æ”¹ä¸€ä¸‹-mymojo">ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ MyMojo</a></li>
        <li><a href="#å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“">å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“</a></li>
        <li><a href="#ä½¿ç”¨æ’ä»¶">ä½¿ç”¨æ’ä»¶</a></li>
        <li><a href="#é…ç½®--ç›®æ ‡ç»‘å®š">é…ç½® &amp; ç›®æ ‡ç»‘å®š</a></li>
        <li><a href="#æŸ¥è¯¢æ’ä»¶ä¿¡æ¯">æŸ¥è¯¢æ’ä»¶ä¿¡æ¯</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="ç¼–å†™-maven-æ’ä»¶">ç¼–å†™ maven æ’ä»¶</h1>
<p>æœ¬æ–‡ä¸»è¦é€šè¿‡ç¼–å†™ä¸€ä¸ªæ’ä»¶æ¥åŠ æ·±å¯¹<code>mavenæ’ä»¶æœºåˆ¶</code> <code>ç”Ÿå‘½å‘¨æœŸ</code> <code>æ’ä»¶ç›®æ ‡</code> <code>æ’ä»¶è§£ææœºåˆ¶</code> ç­‰æ¦‚å¿µçš„ç†è§£ï¼Œæ’ä»¶æœ¬èº«å¹¶æ²¡æœ‰å®é™…åŠŸèƒ½ï¼Œåªæ˜¯è¾“å‡ºä¸€å¥ <code>Hello World</code>ã€‚</p>
<h3 id="æ³¨æ„äº‹é¡¹-å’Œ-æ¦‚è¿°">æ³¨æ„äº‹é¡¹ å’Œ æ¦‚è¿°</h3>
<ol>
<li>
<p>maven æ’ä»¶çš„å‘½å <code>&lt;name&gt;-maven-plugin</code></p>
</li>
<li>
<p>mavenæ’ä»¶é¡¹ç›®ä¸ä¸€èˆ¬mavené¡¹ç›®ï¼Œé™¤äº†<code>&lt;packaging&gt;&lt;/packaging&gt;</code> æ˜¯ <code>maven-plugin</code> ä»¥å¤–ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸åŒï¼ˆ<code>&lt;packaging&gt;maven-plugin&lt;/packaging&gt;</code>ï¼‰</p>
</li>
<li>
<p>mavenæ’ä»¶é¡¹ç›®çš„ä¾èµ–</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
  <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven<span style="color:#f92672">&lt;/groupId&gt;</span>
  <span style="color:#f92672">&lt;artifactId&gt;</span>maven-plugin-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
  <span style="color:#f92672">&lt;version&gt;</span>3.3.3<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
</code></pre></div></li>
<li>
<p>ç¼–å†™mavenæ’ä»¶å¯ä»¥ä½¿ç”¨ä¸¤ç§é£æ ¼çš„æ ‡æ³¨ï¼Œç›´æ¥<code>å†™åœ¨æ³¨é‡Šä¸­(javadoc)</code>ï¼Œæˆ–è€…ä½¿ç”¨JDK1.5+çš„<code>æ³¨è§£çš„å½¢å¼</code>ï¼Œå¦‚æœä½¿ç”¨æ³¨è§£çš„å½¢å¼ï¼Œéœ€è¦ä½¿ç”¨ä¾èµ–</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
  <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugin-tools<span style="color:#f92672">&lt;/groupId&gt;</span>
  <span style="color:#f92672">&lt;artifactId&gt;</span>maven-plugin-annotations<span style="color:#f92672">&lt;/artifactId&gt;</span>
  <span style="color:#f92672">&lt;version&gt;</span>3.5<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
</code></pre></div><p>ä»¥ä¸‹ä¸¤ç§å£°æ˜ç›®æ ‡çš„æ–¹å¼(<code>@goal print</code>å’Œ<code>@Mojo(name = &quot;print&quot;)</code>)æ˜¯ä¸€æ ·çš„ï¼Œ
å› ä¸ºä½¿ç”¨çš„æ—¶å€™æ˜¯é€šè¿‡jaråŒ…ä¸­çš„<code>plugin-help.xml</code>æ–‡ä»¶
(<code>&lt;name&gt;-maven-plugin-&lt;version&gt;.jar\META-INF\maven\&lt;groupId&gt;\&lt;name&gt;-maven-plugin\plugin-help.xml</code>)
æ¥è¯†åˆ«ç›®æ ‡ã€å‚æ•°ç­‰ç›¸å…³ä¿¡æ¯çš„ã€‚<br>
å¦‚ä¸‹å±•ç¤ºäº†ï¼Œå£°æ˜ print ç›®æ ‡çš„ä¸¤ç§æ–¹å¼ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Mojo</span><span style="color:#f92672">(</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;print&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloMojo</span> <span style="color:#66d9ef">extends</span> AbstractMojo <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> MojoExecutionException<span style="color:#f92672">,</span> MojoFailureException <span style="color:#f92672">{}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>å’Œ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * @goal print
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloMojo</span> <span style="color:#66d9ef">extends</span> AbstractMojo <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> MojoExecutionException<span style="color:#f92672">,</span> MojoFailureException<span style="color:#f92672">{}</span>
<span style="color:#f92672">}</span>
</code></pre></div></li>
<li>
<p>ç¼–å†™å…·ä½“æ’ä»¶çš„æ—¶å€™éœ€ç»§æ‰¿ AbstractMojo ç±»ï¼Œå®ç°å…¶ä¸­çš„ <code>execute</code> æ–¹æ³•ï¼ŒMOJOå³ Maven Ordinary Java Object [ å‚è§ POJOï¼ˆPlain Ordinary Java Objectï¼‰]</p>
</li>
</ol>
<h3 id="åˆ›å»ºç”Ÿæˆä¸€ä¸ªmaven-pluginé¡¹ç›®">åˆ›å»º/ç”Ÿæˆä¸€ä¸ªMaven Pluginé¡¹ç›®</h3>
<ol>
<li>è¾“å…¥<code>mvn archetype:generate -DarchetypeCatalog=internal</code></li>
<li>è¿™æ—¶å€™ä¼šæç¤ºï¼Œè¦ä½¿ç”¨å“ªä¸ªæ¨¡ç‰ˆï¼Œå¦‚ä¸‹ï¼Œè¾“å…¥<code>3</code>,é€‰æ‹©<code>maven-archetype-plugin</code>ï¼Œä¹Ÿå¯ä»¥è¾“å…¥å…³é”®å­—è¿›è¡Œæœç´¢ï¼Œç„¶åè¿›è¡Œé€‰æ‹©</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Choose archetype:
â€¦â€¦
2: internal -&gt; org.apache.maven.archetypes:maven-archetype-j2ee-simple <span style="color:#f92672">(</span>An archetype which contains a simplifed sample J2EE application.<span style="color:#f92672">)</span>
3: internal -&gt; org.apache.maven.archetypes:maven-archetype-plugin <span style="color:#f92672">(</span>An archetype which contains a sample Maven plugin.<span style="color:#f92672">)</span>
4: internal -&gt; org.apache.maven.archetypes:maven-archetype-plugin-site <span style="color:#f92672">(</span>An archetype which contains a sample Maven plugin site.
â€¦â€¦
</code></pre></div><ol start="3">
<li>
<p>æ¥ä¸‹æ¥ä¼šæç¤ºè¾“å…¥ <code>&lt;groupId&gt;:com.kail.maven.plugin</code>ã€<code>&lt;artifactId&gt;:hello-maven-plugin</code>ã€<code>&lt;version&gt;:1.0-SNAPSHOT</code>ã€<code>&lt;package&gt;:com.kail.maven.plugin</code> ç­‰ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>ä»¥ä¸Šæ‰§è¡Œæ²¡é—®é¢˜çš„è¯ ä¼šç”Ÿæˆä¸€ä¸ª <code>hello-maven-plugin</code> çš„Mavené¡¹ç›®ï¼ŒMojo å…³é”®ä»£ç å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.kail.maven.plugin<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Mojo</span><span style="color:#f92672">(</span> name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;touch&#34;</span><span style="color:#f92672">,</span> defaultPhase <span style="color:#f92672">=</span> LifecyclePhase<span style="color:#f92672">.</span><span style="color:#a6e22e">PROCESS_SOURCES</span> <span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyMojo</span> <span style="color:#66d9ef">extends</span> AbstractMojo<span style="color:#f92672">{</span>

  <span style="color:#a6e22e">@Parameter</span><span style="color:#f92672">(</span> defaultValue <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;${project.build.directory}&#34;</span><span style="color:#f92672">,</span> property <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;outputDir&#34;</span><span style="color:#f92672">,</span> required <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#f92672">)</span>
  <span style="color:#66d9ef">private</span> File outputDirectory<span style="color:#f92672">;</span>

  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">()</span><span style="color:#66d9ef">throws</span> MojoExecutionException<span style="color:#f92672">{</span>
    <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="ç¨å¾®ä¿®æ”¹ä¸€ä¸‹-mymojo">ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ MyMojo</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Mojo</span><span style="color:#f92672">(</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;print&#34;</span><span style="color:#f92672">,</span> defaultPhase <span style="color:#f92672">=</span> LifecyclePhase<span style="color:#f92672">.</span><span style="color:#a6e22e">CLEAN</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloMojo</span> <span style="color:#66d9ef">extends</span> AbstractMojo <span style="color:#f92672">{</span>  

  <span style="color:#a6e22e">@Parameter</span><span style="color:#f92672">(</span>defaultValue <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;${project.build.directory}&#34;</span><span style="color:#f92672">,</span> property <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;outputDir&#34;</span><span style="color:#f92672">,</span> required <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">)</span>
  <span style="color:#66d9ef">private</span> File outputDirectory<span style="color:#f92672">;</span>  

  <span style="color:#a6e22e">@Parameter</span><span style="color:#f92672">(</span>defaultValue <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;World&#34;</span><span style="color:#f92672">,</span> property <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;maven.sayHello&#34;</span><span style="color:#f92672">)</span>
  <span style="color:#66d9ef">private</span> String text<span style="color:#f92672">;</span>  

  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">execute</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> MojoExecutionException <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">null</span> <span style="color:#f92672">!=</span> outputDirectory<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
      getLog<span style="color:#f92672">().</span><span style="color:#a6e22e">info</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;==&#34;</span> <span style="color:#f92672">+</span> outputDirectory<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
      getLog<span style="color:#f92672">().</span><span style="color:#a6e22e">error</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;outputDirectory is null&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    getLog<span style="color:#f92672">().</span><span style="color:#a6e22e">info</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello &#34;</span> <span style="color:#f92672">+</span> text<span style="color:#f92672">);</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“">å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn clean install
</code></pre></div><h3 id="ä½¿ç”¨æ’ä»¶">ä½¿ç”¨æ’ä»¶</h3>
<h5 id="ç›´æ¥ä½¿ç”¨">ç›´æ¥ä½¿ç”¨</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn com.kail.maven.plugin:hello-maven-plugin:1.0-SNAPSHOT:print 
</code></pre></div><p>è¾“å‡º</p>
<pre><code>â€¦â€¦
[INFO] ------------------------------------------------------------------------
[INFO] Building hello-maven-plugin Maven Plugin 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
â€¦â€¦

[INFO] ==D:\Java\JetBrains\idea.2016\hello-maven-plugin\target
[INFO] Hello World
â€¦â€¦
</code></pre>
<p>ä½¿ç”¨å‚æ•°<code>-Dmaven.sayHello=Kail</code> è®¾ç½®å˜é‡ <code>text</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn com.kail.maven.plugin:hello-maven-plugin:1.0-SNAPSHOT:print -Dmaven.sayHello<span style="color:#f92672">=</span>Kail
</code></pre></div><p>è¾“å‡º</p>
<pre><code>â€¦â€¦
[INFO] ------------------------------------------------------------------------
[INFO] Building hello-maven-plugin Maven Plugin 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
â€¦â€¦

[INFO] ==D:\Java\JetBrains\idea.2016\hello-maven-plugin\target
[INFO] Hello Kail
â€¦â€¦
</code></pre>
<h5 id="ç®€å†™å½¢å¼ç›®æ ‡å‰ç¼€">ç®€å†™å½¢å¼ï¼ˆç›®æ ‡å‰ç¼€ï¼‰</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn hello:print 
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn hello:print -Dmaven.sayHello<span style="color:#f92672">=</span>Kail
</code></pre></div><p>å¦‚æœæ’ä»¶å‘½åè§„èŒƒï¼ˆå¦‚è¿™ç§å½¢å¼<code>&lt;name&gt;-maven-plugin</code>ï¼‰ï¼Œå¹¶ä¸”pomä¸­é…ç½®äº†å¯¹ <code>hello-maven-plugin</code> æ’ä»¶çš„ä¾èµ–ï¼Œä»¥ä¸Šç®€å†™å½¢å¼æ‰§è¡Œæ˜¯æ²¡é—®é¢˜çš„ã€‚
å¦‚æœpomä¸­æ²¡æœ‰é…ç½®å¯¹ <code>hello-maven-plugin</code> æ’ä»¶çš„ä¾èµ–ï¼Œä¹Ÿæƒ³é€šè¿‡ä»¥ä¸Šç®€å†™å½¢å¼æ‰§è¡Œçš„è¯ï¼Œéœ€è¦åœ¨ settings.xml æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹ä¿¡æ¯ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;pluginGroups&gt;</span>
  <span style="color:#f92672">&lt;pluginGroup&gt;</span>com.kail.maven.plugin<span style="color:#f92672">&lt;/pluginGroup&gt;</span>
<span style="color:#f92672">&lt;/pluginGroups&gt;</span>
</code></pre></div><p>è¿™æ—¶å€™mavenå°±èƒ½è‡ªåŠ¨è¡¥å…¨ï¼Œç®€å†™è¡¥å…¨çš„æœç´¢è·¯å¾„é¡ºåºå¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>.m2\repository\org\apache\maven\plugins\maven-metadata-central.xml</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;metadata&gt;</span>
  <span style="color:#f92672">&lt;plugins&gt;</span>
    â€¦â€¦
    <span style="color:#f92672">&lt;plugin&gt;</span>
      <span style="color:#f92672">&lt;name&gt;</span>Maven Archetype Plugin<span style="color:#f92672">&lt;/name&gt;</span>
      <span style="color:#f92672">&lt;prefix&gt;</span>archetype<span style="color:#f92672">&lt;/prefix&gt;</span>
      <span style="color:#f92672">&lt;artifactId&gt;</span>maven-archetype-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;/plugin&gt;</span>
    â€¦â€¦
  <span style="color:#f92672">&lt;/plugins&gt;</span>
<span style="color:#f92672">&lt;/metadata&gt;</span>
</code></pre></div></li>
<li>
<p>.m2\repository\org\codehaus\mojo\maven-metadata-central.xml</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;metadata&gt;</span>
  <span style="color:#f92672">&lt;plugins&gt;</span>
    â€¦â€¦
    <span style="color:#f92672">&lt;plugin&gt;</span>
      <span style="color:#f92672">&lt;name&gt;</span>Dependency Maven Plugin<span style="color:#f92672">&lt;/name&gt;</span>
      <span style="color:#f92672">&lt;prefix&gt;</span>dependency<span style="color:#f92672">&lt;/prefix&gt;</span>
      <span style="color:#f92672">&lt;artifactId&gt;</span>dependency-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;/plugin&gt;</span>
    â€¦â€¦
  <span style="color:#f92672">&lt;/plugins&gt;</span>
<span style="color:#f92672">&lt;/metadata&gt;</span>
</code></pre></div></li>
<li>
<p>.m2\repository\com\kail\maven\plugin\maven-metadata-local.xml</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;metadata&gt;</span>
  <span style="color:#f92672">&lt;plugins&gt;</span>
    â€¦â€¦
    <span style="color:#f92672">&lt;plugin&gt;</span>
      <span style="color:#f92672">&lt;name&gt;</span>hello-maven-plugin Maven Plugin<span style="color:#f92672">&lt;/name&gt;</span>
      <span style="color:#f92672">&lt;prefix&gt;</span>hello<span style="color:#f92672">&lt;/prefix&gt;</span>
      <span style="color:#f92672">&lt;artifactId&gt;</span>hello-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;/plugin&gt;</span>
    â€¦â€¦
  <span style="color:#f92672">&lt;/plugins&gt;</span>
<span style="color:#f92672">&lt;/metadata&gt;</span>
</code></pre></div></li>
</ol>
<h3 id="é…ç½®--ç›®æ ‡ç»‘å®š">é…ç½® &amp; ç›®æ ‡ç»‘å®š</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;plugin&gt;</span>
  <span style="color:#f92672">&lt;groupId&gt;</span>com.kail.maven.plugin<span style="color:#f92672">&lt;/groupId&gt;</span>
  <span style="color:#f92672">&lt;artifactId&gt;</span>hello-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
  <span style="color:#f92672">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#f92672">&lt;/version&gt;</span>
  <span style="color:#f92672">&lt;configuration&gt;</span>
    <span style="color:#f92672">&lt;text&gt;</span>Mr.Kail<span style="color:#f92672">&lt;/text&gt;</span>
  <span style="color:#f92672">&lt;/configuration&gt;</span>
  <span style="color:#f92672">&lt;executions&gt;</span>
    <span style="color:#f92672">&lt;execution&gt;</span>
      <span style="color:#75715e">&lt;!--å¤šä¸ª execution çš„æ—¶å€™éœ€è¦å†™IDï¼Œä¸€ä¸ªçš„è¯å¯ä»¥ä¸å†™--&gt;</span>
      <span style="color:#f92672">&lt;id&gt;</span>id-clean-print<span style="color:#f92672">&lt;/id&gt;</span>
      <span style="color:#75715e">&lt;!--ç›®æ ‡`print`é»˜è®¤ç”Ÿå‘½å‘¨æœŸæ˜¯clean [ @Mojo(name = &#34;print&#34;, defaultPhase = LifecyclePhase.CLEAN) ]ï¼Œæ‰€ä»¥å¯ä»¥ä¸å†™phase--&gt;</span>
      <span style="color:#f92672">&lt;goals&gt;</span>
        <span style="color:#f92672">&lt;goal&gt;</span>print<span style="color:#f92672">&lt;/goal&gt;</span>
      <span style="color:#f92672">&lt;/goals&gt;</span>
    <span style="color:#f92672">&lt;/execution&gt;</span>
    <span style="color:#f92672">&lt;execution&gt;</span>
      <span style="color:#75715e">&lt;!--å¤šä¸ª execution çš„æ—¶å€™éœ€è¦å†™IDï¼Œä¸€ä¸ªçš„è¯å¯ä»¥ä¸å†™--&gt;</span>
      <span style="color:#f92672">&lt;id&gt;</span>id-validate-print<span style="color:#f92672">&lt;/id&gt;</span>
      <span style="color:#75715e">&lt;!--å°†åˆ›å»ºçš„ç›®æ ‡`print`ç»‘å®šåˆ° `validate` ç”Ÿå‘½å‘¨æœŸä¸Š--&gt;</span>
      <span style="color:#f92672">&lt;phase&gt;</span>validate<span style="color:#f92672">&lt;/phase&gt;</span>
      <span style="color:#f92672">&lt;goals&gt;</span>
        <span style="color:#f92672">&lt;goal&gt;</span>print<span style="color:#f92672">&lt;/goal&gt;</span>
      <span style="color:#f92672">&lt;/goals&gt;</span>
      <span style="color:#f92672">&lt;configuration&gt;</span>
        <span style="color:#f92672">&lt;text&gt;</span>Mr.Kail(validate)<span style="color:#f92672">&lt;/text&gt;</span>
      <span style="color:#f92672">&lt;/configuration&gt;</span>
    <span style="color:#f92672">&lt;/execution&gt;</span>
  <span style="color:#f92672">&lt;/executions&gt;</span>
<span style="color:#f92672">&lt;/plugin&gt;</span>
</code></pre></div><p>æ‰§è¡Œ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn clean
</code></pre></div><p>è¾“å‡º</p>
<pre><code>â€¦â€¦
[INFO] Hello Mr.Kail
â€¦â€¦
</code></pre>
<p>æ‰§è¡Œ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn validate
</code></pre></div><p>è¾“å‡º</p>
<pre><code>â€¦â€¦
[INFO] Hello Mr.Kail(validate)
â€¦â€¦
</code></pre>
<p>æ‰§è¡Œ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn clean validate
</code></pre></div><p>è¾“å‡º</p>
<pre><code>â€¦â€¦
[INFO] Hello Mr.Kail
â€¦â€¦
[INFO] Hello Mr.Kail(validate)
â€¦â€¦
</code></pre>
<h3 id="æŸ¥è¯¢æ’ä»¶ä¿¡æ¯">æŸ¥è¯¢æ’ä»¶ä¿¡æ¯</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn help:describe -Dplugin<span style="color:#f92672">=</span>com.kail.maven.plugin:hello-maven-plugin:1.0-SNAPSHOT
</code></pre></div><pre><code>Name: hello-maven-plugin Maven Plugin
Description: (no description available)
Group Id: com.kail.maven.plugin
Artifact Id: hello-maven-plugin
Version: 1.0-SNAPSHOT
Goal Prefix: hello

This plugin has 1 goal:

hello:print
  Description: (no description available)

For more information, run 'mvn help:describe [...] -Ddetail'
</code></pre>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn help:describe -Dplugin<span style="color:#f92672">=</span>com.kail.maven.plugin:hello-maven-plugin:1.0-SNAPSHOT -Ddetail
</code></pre></div><pre><code>Name: hello-maven-plugin Maven Plugin
Description: (no description available)
Group Id: com.kail.maven.plugin
Artifact Id: hello-maven-plugin
Version: 1.0-SNAPSHOT
Goal Prefix: hello

This plugin has 1 goal:

hello:print
  Description: (no description available)
  Implementation: com.kail.maven.plugin.HelloMojo
  Language: java
  Bound to phase: clean

  Available parameters:

    outputDirectory (Default: ${project.build.directory})
      Required: true
      User property: outputDir
      (no description available)

    text (Default: World)
      User property: maven.sayHello
      (no description available)
</code></pre>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># æŸ¥è¯¢æŸä¸ªç›®æ ‡</span>
mvn help:describe -Dplugin<span style="color:#f92672">=</span>com.kail.maven.plugin:hello-maven-plugin:1.0-SNAPSHOT -Ddetail -Dgoal<span style="color:#f92672">=</span>print
<span style="color:#75715e"># ç®€å†™</span>
mvn help:describe -Dplugin<span style="color:#f92672">=</span>hello -Ddetail
</code></pre></div><blockquote>
<p>å‚è€ƒ</p>
<p><a href="https://item.jd.com/10476794.html">ã€ŠMavenå®æˆ˜ã€‹ ç¬¬7ç« _ç”Ÿå‘½å‘¨æœŸå’Œæ’ä»¶ å’Œ ç¬¬17ç« _ç¼–å†™Mavenæ’ä»¶)</a></p>
<p><a href="http://orchome.com/103">mavenå¼€å‘javaæ’ä»¶ã€è¯‘ã€‘</a></p>
<p><a href="http://maven.apache.org/guides/plugin/guide-java-plugin-development.html">Your First Mojo</a></p>
<p><a href="http://maven.apache.org/developers/mojo-api-specification.html">Mojo API</a></p>
</blockquote>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">



  <div>
    
    <a class="flex align-center" href="https://github.com/hello-world-example/Maven/commit/ac13c534f695dffc041da20a0b55c971d48df91a" title='Last modified by æ¨å‡¯å½¬ | Mar 14, 2020' target="_blank" rel="noopener">
      <img src="/Maven/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>Mar 14, 2020</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/hello-world-example/Maven/edit/master/HuGo/content/docs/Custom-Plugin.md" target="_blank" rel="noopener">
      <img src="/Maven/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>

</div>

 
        
<script>
var images = document.getElementsByTagName("img")
console.info(images.length)
for(var i=0; i<images.length; i++){
  var image = images[i]
  var src = image.getAttribute("src");
  if(src.startsWith("-images")){
    image.setAttribute("src", "../" + src)
  }
}
</script>

      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#æ³¨æ„äº‹é¡¹-å’Œ-æ¦‚è¿°">æ³¨æ„äº‹é¡¹ å’Œ æ¦‚è¿°</a></li>
        <li><a href="#åˆ›å»ºç”Ÿæˆä¸€ä¸ªmaven-pluginé¡¹ç›®">åˆ›å»º/ç”Ÿæˆä¸€ä¸ªMaven Pluginé¡¹ç›®</a></li>
        <li><a href="#ç¨å¾®ä¿®æ”¹ä¸€ä¸‹-mymojo">ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ MyMojo</a></li>
        <li><a href="#å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“">å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“</a></li>
        <li><a href="#ä½¿ç”¨æ’ä»¶">ä½¿ç”¨æ’ä»¶</a></li>
        <li><a href="#é…ç½®--ç›®æ ‡ç»‘å®š">é…ç½® &amp; ç›®æ ‡ç»‘å®š</a></li>
        <li><a href="#æŸ¥è¯¢æ’ä»¶ä¿¡æ¯">æŸ¥è¯¢æ’ä»¶ä¿¡æ¯</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












